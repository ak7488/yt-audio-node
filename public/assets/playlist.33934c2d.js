import{j as ue,c as s,a as z,o as $e,i as l,m as L,b as y,k as M,F as fe,e as ye,l as pe,f as he,g as ge,h as B,s as x,d as be,t as G}from"./index.871ab747.js";import{f as re,s as O}from"./constants.6356c091.js";const Se="_player_19ymh_1",xe="_player_info_cont_19ymh_15",Ce="_player_vol_btn_cont_19ymh_33",Ne="_player_range_cont_19ymh_35",Ie="_player_btn_cont_19ymh_37",ke="_player_title_cont_19ymh_137",we="_item_cont_19ymh_153",Pe="_item_19ymh_153",Te="_item_info_cont_19ymh_189",De="_item_title_19ymh_197",Fe="_item_chanel_name_19ymh_205",Ee="_item_indicator_19ymh_213",Ve="_active_item_19ymh_241";var i={player:Se,player_info_cont:xe,player_vol_btn_cont:Ce,player_range_cont:Ne,player_btn_cont:Ie,player_title_cont:ke,item_cont:we,item:Pe,item_info_cont:Te,item_title:De,item_chanel_name:Fe,item_indicator:Ee,active_item:Ve};const je=G("<div><div></div></div>"),Ae=G('<div><div><img alt=""></div><div><div><button></button><a target="_blank"><button></button></a><div><button></button><p>%</p><button></button></div></div><div><p></p><input type="range"><p></p></div><div><p></p></div></div></div>'),Re=G('<div><img alt=""><div><p></p><p></p></div><div><p>Playing now</p></div></div>'),Le=()=>{const t=new Audio;let m=90,C=null;const E=ue(),[r,u]=s(""),[a,p]=s({}),[_,c]=s({}),[N,n]=s(!1),[o,d]=s(m),[h,I]=s(100),[g,k]=s(0),[w,P]=s(0);z(async()=>{if(console.log(r()),!r())return;const v=await fetch(`${O}/video-from-list/${r()}`).then(S=>S.json());console.log(v.items),p(v),c(v.items[0]),P(0)}),z(()=>{_().snippet&&(t.src=`${O}/audio/${_().snippet.resourceId.videoId}`)}),z(()=>{m=o(),t.volume=m/100}),$e(()=>{document.querySelector("body").style.overflow="auto",u(E.id),t.onplay=()=>n(!0),t.onpause=()=>n(!1),t.onloadeddata=()=>{I(t.duration),t.play()},t.ontimeupdate=()=>k(t.currentTime),t.onended=()=>{n(!1),w()+1>=a().items.length?(P(0),c(a().items[0])):(c(a().items[w()+1]),P(w()+1))}});const b={color:"#000000",size:"20px"};return(()=>{const v=je.cloneNode(!0),S=v.firstChild;return l(v,(()=>{const V=L(()=>!!_()?.snippet,!0);return()=>V()&&(()=>{const $=Ae.cloneNode(!0),T=$.firstChild,D=T.firstChild,H=T.nextSibling,j=H.firstChild,A=j.firstChild,F=A.nextSibling,ce=F.firstChild,J=F.nextSibling,R=J.firstChild,U=R.nextSibling,de=U.firstChild,K=U.nextSibling,q=j.nextSibling,Q=q.firstChild,f=Q.nextSibling,ve=f.nextSibling,W=q.nextSibling,me=W.firstChild;A.$$click=()=>{N()?t.pause():t.play()},l(A,(()=>{const e=L(()=>!!N(),!0);return()=>e()?y(fe,M(b,{color:"#fca311"})):y(ye,M(b,{color:"#fca311"}))})()),l(ce,y(pe,M(b,{color:"#fca311"}))),R.$$click=()=>{if(o()+5>100)return d(100);d(o()+5)},l(R,y(he,b)),l(U,o,de),K.$$click=()=>{if(o()-5<0)return d(0);d(o()-5)},l(K,y(ge,b)),l(Q,()=>re(g()));const X=C;return typeof X=="function"?X(f):C=f,f.$$input=e=>t.currentTime=e.currentTarget.value,l(ve,()=>re(h())),l(me,()=>_().snippet.title),B(e=>{const Y=i.player,Z=_()?.snippet?.thumbnails?.default?.url,ee=i.player_info_cont,te=i.player_btn_cont,ne=`${O}/audio/${_().snippet.resourceId.videoId}`,ie=_().snippet.title,le=i.player_vol_btn_cont,_e=i.player_range_cont,ae=h(),oe=g(),se=i.player_title_cont;return Y!==e._v$&&($.className=e._v$=Y),Z!==e._v$2&&x(D,"src",e._v$2=Z),ee!==e._v$3&&(H.className=e._v$3=ee),te!==e._v$4&&(j.className=e._v$4=te),ne!==e._v$5&&x(F,"href",e._v$5=ne),ie!==e._v$6&&x(F,"download",e._v$6=ie),le!==e._v$7&&(J.className=e._v$7=le),_e!==e._v$8&&(q.className=e._v$8=_e),ae!==e._v$9&&x(f,"max",e._v$9=ae),oe!==e._v$10&&(f.value=e._v$10=oe),se!==e._v$11&&(W.className=e._v$11=se),e},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0,_v$9:void 0,_v$10:void 0,_v$11:void 0}),$})()})(),S),l(S,(()=>{const V=L(()=>a()?.items?.length>0,!0);return()=>V()&&a().items.map(($,T)=>y(Ue,{get key(){return $.id},info:$,index:T,currentIndex:w,reload:D=>{t.pause(),c(a().items[D]),P(D)}}))})()),B(()=>S.className=i.item_cont),v})()},Ue=({info:t,index:m,currentIndex:C,reload:E})=>{const r=t?.snippet?.thumbnails;return(()=>{const u=Re.cloneNode(!0),a=u.firstChild,p=a.nextSibling,_=p.firstChild,c=_.nextSibling,N=p.nextSibling;return u.$$click=()=>{!r?.default?.url||E(m)},l(_,()=>t?.snippet?.title),l(c,()=>t?.snippet?.videoOwnerChannelTitle),B(n=>{const o=`${i.item} ${m===C()&&i.active_item}`,d=r?.high?.url||r?.default?.url,h=i.item_info_cont,I=i.item_title,g=i.item_chanel_name,k=i.item_indicator;return o!==n._v$12&&(u.className=n._v$12=o),d!==n._v$13&&x(a,"src",n._v$13=d),h!==n._v$14&&(p.className=n._v$14=h),I!==n._v$15&&(_.className=n._v$15=I),g!==n._v$16&&(c.className=n._v$16=g),k!==n._v$17&&(N.className=n._v$17=k),n},{_v$12:void 0,_v$13:void 0,_v$14:void 0,_v$15:void 0,_v$16:void 0,_v$17:void 0}),u})()};be(["click","input"]);export{Le as default};
